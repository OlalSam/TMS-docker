<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>Reset Password</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"/>

    <!-- Custom fonts & styles -->
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,300,400,600,700,800,900"
          rel="stylesheet"/>
    <h:outputStylesheet library="css" name="main.css"/>
</head>
<body class="bg-gradient-primary">

  <div class="container">
    <div class="card o-hidden border-0 shadow-lg my-5">
      <div class="card-body p-0">
        <div class="row">
          <div class="col-lg-5 d-none d-lg-block bg-register-image"></div>
          <div class="col-lg-7">
            <div class="p-5">
              <div class="text-center mb-4">
                <h1 class="h4 text-gray-900">Reset Your Password</h1>
                <p>Enter the code we emailed you and choose a new password.</p>
              </div>

              <h:form styleClass="user">
                <p:growl  sticky="false"/>

                <!-- Email (readonly) -->
                <div class="form-group mb-3">
                  <h:outputLabel for="email" value="Email" styleClass="form-label"/>
                  <h:inputText id="email"
                               value="#{forgotPassword.email}"
                               styleClass="form-control form-control-user"
                               readonly="true"/>
                </div>

                <!-- Reset Code -->
                <div class="form-group mb-3">
                  <h:outputLabel for="code" value="Reset Code" styleClass="form-label"/>
                  <h:inputText id="code"
                               value="#{forgotPassword.code}"
                               styleClass="form-control form-control-user"
                               required="true"
                               requiredMessage="Code is required"/>
                  <h:message for="code" styleClass="text-danger small"/>
                </div>

                <!-- New Password -->
                <div class="form-group mb-4">
                  <h:outputLabel for="newPwd" value="New Password" styleClass="form-label"/>
                  <h:inputSecret id="newPwd"
                                 value="#{forgotPassword.newPassword}"
                                 styleClass="form-control form-control-user"
                                 required="true"
                                 requiredMessage="New password is required"/>
                  <h:message for="newPwd" styleClass="text-danger small"/>
                </div>

                <!-- Reset Button -->
                <div class="d-grid mb-3">
                  <h:commandButton styleClass="btn btn-success btn-user btn-block"
                                   value="Reset Password"
                                   action="#{forgotPassword.submitNewPassword}"/>
                </div>

                <hr/>
                <div class="text-center">
                  <h:link outcome="login" styleClass="small" value="Back to Login"/>
                </div>
              </h:form>

              <hr/>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
          crossorigin="anonymous"></script>
  <h:outputScript library="js" name="main.js"/>
</body>
</html>
